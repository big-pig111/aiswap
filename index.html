<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AISwap</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- 配置Tailwind自定义颜色和字体 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#E53170',
            secondary: '#7209B7',
            dark: '#0F1118',
            darker: '#090B10',
            card: '#1A1C25',
            accent: '#3A86FF',
            success: '#4CC9F0',
            'bnb-yellow': '#F3BA2F',
            'usdt-green': '#34C759'
          },
          fontFamily: {
            inter: ['Inter', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .wallet-hover { @apply transition-all duration-200 hover:bg-dark/40 hover:translate-x-1; }
      .scrollbar-thin { scrollbar-width: thin; }
      .scrollbar-thin::-webkit-scrollbar { width: 4px; }
      .scrollbar-thin::-webkit-scrollbar-thumb { background-color: rgba(255,255,255,0.2); border-radius: 2px; }
      .text-shadow {
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
      }
      .glow {
        box-shadow: 0 0 15px rgba(229, 49, 112, 0.5);
      }
      .star {
        position: absolute;
        background-color: white;
        border-radius: 50%;
        animation: twinkle 2s infinite ease-in-out;
      }
      .rotate-icon {
        transform: rotate(180deg);
        transition: transform 0.3s ease;
      }
      .swap-icon {
        transition: transform 0.3s ease;
      }
      .planet-surface {
        background: radial-gradient(ellipse at center, #4A2845 0%, #2D1B36 70%, #1A1026 100%);
      }
      .brand-title { @apply text-transparent bg-clip-text font-semibold; }
      .brand-title { background-image: linear-gradient(180deg, #C3C7CF 0%, #6B7280 100%); letter-spacing: 0.02em; }
      .brand-title:hover { background-image: linear-gradient(180deg, #E5E7EB 0%, #8B919E 100%); }
    }
    
    @keyframes twinkle {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    @keyframes waveFloat {
      0% { transform: translateY(0px); }
      100% { transform: translateY(12px); }
    }
    
    .floating {
      animation: float 6s infinite ease-in-out;
    }
    .wave-layer { animation: waveFloat 8s ease-in-out infinite alternate; }
    .wave-layer.wave2 { animation-duration: 12s; opacity: 0.7; filter: blur(1px); }
    @keyframes waveDrift { 0% { transform: translateX(-1%); } 100% { transform: translateX(-5%); } }
    .wave-drift { animation: waveDrift 18s linear infinite alternate; }
    .wave-drift2 { animation: waveDrift 24s linear infinite alternate; }
    /* 激活时（鼠标接近底部）更强的流动效果 */
    @keyframes waveFloatBig { 0% { transform: translateY(0px); } 100% { transform: translateY(22px); } }
    @keyframes waveDriftFast { 0% { transform: translateX(-2%); } 100% { transform: translateX(-10%); } }
    body.wave-active .wave-layer { animation: waveFloatBig 4.5s ease-in-out infinite alternate; }
    /* 响应式：在小屏上减弱波动并压低高度，避免遮挡内容 */
    @media (max-width: 640px) {
      .wave-1 { bottom: calc(33.333% - 120px) !important; height: 110px !important; left:-12vw !important; right:-12vw !important; }
      .wave-2 { bottom: calc(33.333% - 130px) !important; height: 120px !important; left:-12vw !important; right:-12vw !important; }
      .wave-layer { animation-duration: 10s; }
      .wave-drift, .wave-drift2 { animation-duration: 20s; }
      header .text-xl { font-size: 1.1rem; }
      #connectWalletBtnHeader { display: none; }
      main { padding-left: 0.5rem; padding-right: 0.5rem; }
    }
    body.wave-active .wave-drift { animation: waveDriftFast 12s linear infinite alternate; }
    body.wave-active .wave-drift2 { animation: waveDriftFast 16s linear infinite alternate; }
    body.wave-active .wave-layer svg { transform: scaleY(1.08); transition: transform 300ms ease; }
  </style>
  
  <!-- 导入字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body class="bg-dark text-gray-200 font-inter min-h-screen overflow-x-hidden relative">
  <!-- 星空背景 -->
  <div id="stars" class="fixed inset-0 z-0 pointer-events-none" style="bottom:-150px"></div>
  
  <!-- 导航栏 -->
  <header class="bg-darker/80 backdrop-blur-md fixed top-0 left-0 right-0 z-50 border-b border-gray-800">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <!-- Logo -->
      <div class="flex items-center gap-2">
        <img src="png/logo.jpg" alt="AISwap" class="w-8 h-8 rounded-full object-cover" />
        <span class="text-xl font-bold brand-title">AISwap</span>
      </div>
      
      <!-- 导航链接 - 桌面版 -->
      <nav class="hidden md:flex items-center space-x-6">
        <a href="#" class="hover:text-primary transition-colors">Trade</a>
        <a href="#" class="hover:text-primary transition-colors">Market</a>
        <a href="#" class="hover:text-primary transition-colors">Quests</a>
        <a href="#" class="hover:text-primary transition-colors">Referral</a>
        <div class="relative group">
          <a href="#" class="hover:text-primary transition-colors flex items-center gap-1">
            More <i class="fa fa-chevron-down text-xs"></i>
          </a>
          <div class="absolute right-0 mt-2 w-48 bg-card rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50">
            <a href="#" class="block px-4 py-2 hover:bg-gray-700/30">Bridge</a>
            <a href="#" class="block px-4 py-2 hover:bg-gray-700/30">Farms</a>
            <a href="#" class="block px-4 py-2 hover:bg-gray-700/30">Pools</a>
            <a href="#" class="block px-4 py-2 hover:bg-gray-700/30">NFTs</a>
          </div>
        </div>
      </nav>
      
      <!-- 右侧按钮 -->
      <div class="flex items-center gap-3">
        <button id="connectWalletBtnHeader" class="hidden md:block px-4 py-2 rounded-full border border-primary text-primary hover:bg-primary/10 transition-colors">
          <i class="fa fa-wallet mr-1"></i> Connect Wallet
        </button>
        <button class="md:hidden text-2xl">
          <i class="fa fa-bars"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- 主要内容 -->
  <main class="container mx-auto px-4 pt-24 pb-16 relative z-10">
    <!-- Swap卡片 -->
    <div class="max-w-md mx-auto">
      <div class="bg-card rounded-2xl shadow-xl overflow-hidden border border-gray-800">
        <!-- 切换标签 -->
        <div class="flex border-b border-gray-800">
          <button class="flex-1 py-4 px-6 text-gray-400 hover:text-white transition-colors">
            Bridge
          </button>
          <button class="flex-1 py-4 px-6 text-white font-medium border-b-2 border-primary">
            Swap
          </button>
        </div>
        
        <!-- 交换表单 -->
        <div class="p-6">
          <!-- 从哪个代币 -->
          <div class="mb-0">
            <label class="text-sm text-gray-400 mb-1 block">From</label>
            <div class="flex items-center bg-darker rounded-xl p-3 border border-gray-700">
              <div class="relative flex-1">
                <select id="fromChainSelect" class="w-full appearance-none pl-3 pr-8 py-2 text-sm bg-black/40 rounded-lg border border-gray-700 focus:border-primary focus:ring-1 focus:ring-primary/40">
                  <option>BNB Chain</option>
                  <option>Ethereum</option>
                  <option>Polygon</option>
                  <option>Avalanche</option>
                </select>
                <i class="fa fa-chevron-down absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"></i>
              </div>
              <div class="text-xs text-gray-400 ml-3">Balance: 0</div>
            </div>
            
            <div class="mt-3 flex items-center bg-darker/90 rounded-xl p-3 border border-gray-800 ring-1 ring-black/60 shadow-inner">
              <div class="relative flex items-center gap-2 mr-4 bg-black/40 border border-gray-800 rounded-lg px-3 py-1 ring-1 ring-black/60">
                <span class="w-6 h-6 rounded-full overflow-hidden inline-flex">
                  <img id="fromTokenIcon" src="png/bnb.png" alt="BNB" class="w-full h-full object-cover" />
                </span>
                <span id="fromTokenLabel" class="text-sm text-white/90 font-medium select-none">BNB</span>
                <select id="fromTokenSelect" class="absolute inset-0 opacity-0 cursor-pointer">
                  <option value="BNB" selected>BNB</option>
                  <option value="USDT">USDT</option>
                </select>
                <i class="fa fa-chevron-down text-gray-400 text-xs"></i>
              </div>
              <div class="flex-1 text-right">
                <input id="fromAmountInput" type="text" placeholder="Enter Amount" class="bg-transparent border-none outline-none text-right text-lg w-full" />
              </div>
            </div>
          </div>
          
          <!-- 交换按钮 -->
          <div class="flex justify-center my-6">
            <button id="swapButton" class="w-10 h-10 rounded-full bg-primary flex items-center justify-center swap-icon">
              <i class="fa fa-exchange text-white"></i>
            </button>
          </div>
          
          <!-- 到哪个代币 -->
          <div class="mt-0">
            <label class="text-sm text-gray-400 mb-1 block">To</label>
            <div class="flex items-center bg-darker rounded-xl p-3 border border-gray-700">
              <div class="relative flex-1">
                <select id="toChainSelect" class="w-full appearance-none pl-3 pr-8 py-2 text-sm bg-black/40 rounded-lg border border-gray-700 focus:border-primary focus:ring-1 focus:ring-primary/40">
                  <option>BNB Chain</option>
                  <option>Ethereum</option>
                  <option>Polygon</option>
                  <option>Avalanche</option>
                </select>
                <i class="fa fa-chevron-down absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"></i>
              </div>
              <button class="text-gray-400 hover:text-white transition-colors ml-3">
                <i class="fa fa-arrows-h"></i>
              </button>
            </div>
            
            <div class="mt-3 flex items-center bg-darker/90 rounded-xl p-3 border border-gray-800 ring-1 ring-black/60 shadow-inner">
              <div class="relative flex items-center gap-2 mr-4 bg-black/40 border border-gray-800 rounded-lg px-3 py-1 ring-1 ring-black/60">
                <span class="w-6 h-6 rounded-full overflow-hidden inline-flex">
                  <img id="toTokenIcon" src="png/usdt.png" alt="USDT" class="w-full h-full object-cover" />
                </span>
                <span id="toTokenLabel" class="text-sm text-white/90 font-medium select-none">USDT</span>
                <select id="toTokenSelect" class="absolute inset-0 opacity-0 cursor-pointer">
                  <option value="BNB">BNB</option>
                  <option value="USDT" selected>USDT</option>
                </select>
                <i class="fa fa-chevron-down text-gray-400 text-xs"></i>
              </div>
              <div class="flex-1 text-right">
                <input id="toAmountInput" type="text" placeholder="0" class="bg-transparent border-none outline-none text-right text-lg w-full" readonly />
              </div>
            </div>
          </div>
          
          <!-- 连接钱包按钮 -->
          <button id="connectWalletBtnMain" class="w-full mt-6 py-4 bg-primary hover:bg-primary/90 rounded-xl font-medium transition-all glow">
            Connect Wallet
          </button>
          
          <!-- 交换信息 -->
          <div class="mt-4 text-sm text-gray-400">
            <div class="flex justify-between py-1.5 border-b border-gray-800">
              <span>1 BNB =</span>
              <span>849.2 USDT</span>
            </div>
            <div class="flex justify-between py-1.5">
              <span>Time Spent < 10s</span>
              <button class="text-accent hover:underline">
                <i class="fa fa-info-circle mr-1"></i> Details
              </button>
            </div>
          </div>
        </div>
      </div>
      
      
    </div>
  </main>
  
  <!-- 星空与行星过渡的液态波形 -->
  <div class="fixed left-0 right-0 pointer-events-none z-0 wave-layer wave-1" style="bottom:calc(33.333% - 160px);height:140px;left:-4vw;right:-4vw;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 120" preserveAspectRatio="none" class="w-full h-full wave-drift">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#2D1B36" stop-opacity="0.95" />
          <stop offset="100%" stop-color="#1A1026" stop-opacity="0.95" />
        </linearGradient>
      </defs>
      <path d="M0,70 C240,120 480,10 720,60 C960,110 1200,20 1440,50 L1440,120 L0,120 Z" fill="url(#g)" />
    </svg>
  </div>
  <div class="fixed left-0 right-0 pointer-events-none z-0 wave-layer wave2 wave-2" style="bottom:calc(33.333% - 175px);height:150px;left:-4vw;right:-4vw;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 130" preserveAspectRatio="none" class="w-full h-full wave-drift2">
      <defs>
        <linearGradient id="g2" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#2D1B36" stop-opacity="0.7" />
          <stop offset="100%" stop-color="#1A1026" stop-opacity="0.7" />
        </linearGradient>
      </defs>
      <path d="M0,80 C260,130 460,30 730,70 C1000,110 1180,40 1440,70 L1440,130 L0,130 Z" fill="url(#g2)" />
    </svg>
  </div>
  
  <!-- 底部行星装饰 -->
  <div class="planet-surface fixed bottom-0 left-0 right-0 z-[-1] pointer-events-none" style="height:calc(33.333% - 150px)"></div>
  
  <!-- 小生物装饰 -->
  <div class="fixed bottom-20 left-10 w-20 h-20 z-10 floating">
    <div class="relative">
      <div class="w-16 h-16 bg-primary rounded-full">
        <div class="absolute top-3 left-10 w-2 h-2 bg-white rounded-full"></div>
        <div class="absolute top-5 left-3 w-6 h-3 bg-darker rounded-full"></div>
      </div>
      <div class="w-2 h-4 bg-primary absolute -top-4 left-8"></div>
    </div>
  </div>
  
  <!-- 自定义钱包选择弹窗（采用用户提供的样式） -->
  <div id="walletSelectModal" class="hidden fixed inset-0 z-50 flex items-center justify-center">
    <!-- 遮罩层 -->
    <div id="walletOverlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-40"></div>
    <!-- 弹窗容器 -->
    <div class="relative z-50 bg-darker rounded-xl shadow-2xl w-full sm:max-w-5xl border border-gray-800 h-[90vh] max-h-[90vh] md:h-auto md:max-h-none overflow-y-auto">
      <!-- 关闭按钮 -->
      <button id="walletCloseBtn" class="absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10">
        <i class="fa fa-times text-lg"></i>
      </button>
      <div class="flex flex-col md:flex-row">
        <!-- 左侧：钱包列表 -->
        <div class="w-full md:w-1/2 p-4 sm:p-6 border-b md:border-b-0 md:border-r border-gray-800 max-h-[600px] overflow-y-auto scrollbar-thin">
          <h2 class="text-white text-xl font-semibold mb-6">Connect a Wallet</h2>
          <p class="text-gray-400 text-sm mb-4">Recommended</p>
          <div class="space-y-2">
            <div class="flex items-center p-3 rounded-lg bg-card wallet-hover cursor-pointer" data-wallet-action="injected">
              <img src="png/metamask.jpg" alt="MetaMask" class="w-10 h-10 rounded-md object-cover mr-4" />
              <span class="text-white font-medium">MetaMask</span>
            </div>
            <div class="flex items-center p-3 rounded-lg bg-card wallet-hover cursor-pointer" data-wallet-action="coinbase">
              <img src="png/coinbase.jpg" alt="Coinbase Wallet" class="w-10 h-10 rounded-md object-cover mr-4" />
              <span class="text-white font-medium">Coinbase Wallet</span>
            </div>
            <div class="flex items-center p-3 rounded-lg bg-card wallet-hover cursor-pointer" data-wallet-action="backpack">
              <img src="png/backpack.jpg" alt="Backpack" class="w-10 h-10 rounded-md object-cover mr-4" />
              <span class="text-white font-medium">Backpack</span>
            </div>
            <!-- 仅保留 OKX Wallet 入口 -->
            <div class="flex items-center p-3 rounded-lg bg-card wallet-hover cursor-pointer" data-wallet-action="okx">
              <img src="png/okx.jpg" alt="OKX Wallet" class="w-10 h-10 rounded-md object-cover mr-4" />
              <span class="text-white font-medium">OKX Wallet</span>
            </div>
            <div class="flex items-center p-3 rounded-lg bg-card wallet-hover cursor-pointer" data-wallet-action="walletconnect">
              <div class="w-10 h-10 rounded-md bg-blue-600 flex items-center justify-center mr-4">
                <i class="fa fa-link text-white"></i>
              </div>
              <span class="text-white font-medium">WalletConnect</span>
            </div>
          </div>
        </div>
        <!-- 右侧：说明 -->
        <div class="w-full md:w-1/2 p-4 sm:p-8 bg-card flex flex-col justify-between">
          <div>
            <h2 class="text-white text-xl font-semibold mb-6">What is a Wallet?</h2>
            <div class="mb-8">
              <div class="w-12 h-12 rounded-lg overflow-hidden mb-4 bg-black/20">
                <picture>
                  <source srcset="png/1.png" type="image/png">
                  <img src="png/1.jpg" alt="illustration-1" class="w-full h-full object-contain p-1" />
                </picture>
              </div>
              <h3 class="text-white font-medium mb-2">A Home for your Digital Assets</h3>
              <p class="text-gray-400 text-sm">Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs.</p>
            </div>
            <div>
              <div class="w-12 h-12 rounded-lg overflow-hidden mb-4 bg-black/20">
                <picture>
                  <source srcset="png/2.png" type="image/png">
                  <img src="png/2.jpg" alt="illustration-2" class="w-full h-full object-contain p-1" />
                </picture>
              </div>
              <h3 class="text-white font-medium mb-2">A New Way to Log In</h3>
              <p class="text-gray-400 text-sm">Instead of creating new accounts and passwords on every website, just connect your wallet.</p>
            </div>
          </div>
          <div class="mt-8">
            <button id="getWalletBtn" class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-colors mb-3">Get a Wallet</button>
            <a href="#" class="text-blue-400 hover:text-blue-300 text-sm flex justify-center transition-colors">Learn More</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- 自定义链选择弹窗 -->
  <div id="chainSelectModal" class="hidden fixed inset-0 z-50 flex items-center justify-center">
    <div id="chainOverlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-40"></div>
    <div class="relative z-50 bg-darker rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-800">
      <div class="flex items-center justify-between px-4 py-3 border-b border-gray-800">
        <h3 class="text-white text-base font-medium">Select a Chain</h3>
        <button id="chainCloseBtn" class="text-gray-400 hover:text-white"><i class="fa fa-times"></i></button>
      </div>
      <div class="p-4">
        <div class="mb-3">
          <input id="chainSearch" type="text" placeholder="Search Network" class="w-full bg-black/30 border border-gray-700 rounded-md px-3 py-2 outline-none focus:border-primary focus:ring-1 focus:ring-primary/40" />
        </div>
        <div id="chainList" class="max-h-80 overflow-y-auto scrollbar-thin"></div>
      </div>
    </div>
  </div>

  <!-- 页脚 -->
  <footer class="bg-transparent border-t-0 py-8 relative z-10">
    <div class="container mx-auto px-4">
      <div class="flex justify-center gap-x-8 gap-y-2 text-sm text-gray-400 flex-wrap">
        <a href="#" class="hover:text-white transition-colors">GitHub</a>
        <a href="#" class="hover:text-white transition-colors">Docs</a>
        <a href="#" class="hover:text-white transition-colors">Brand Assets</a>
        <a href="#" class="hover:text-white transition-colors">Terms of Use</a>
        <a href="#" class="hover:text-white transition-colors">Privacy Policy</a>
      </div>
    </div>
  </footer>
  
  <!-- 右侧聊天按钮 -->
  <button class="fixed bottom-6 right-6 w-12 h-12 rounded-full bg-primary flex items-center justify-center shadow-lg z-30 hover:bg-primary/90 transition-colors">
    <i class="fa fa-comments text-white"></i>
  </button>

  <!-- 左下角社交按钮 -->
  <div class="fixed bottom-6 left-6 z-30 flex items-center gap-3">
    <a href="#" target="_blank" rel="noopener" aria-label="Twitter" class="group w-9 h-9 rounded-full bg-white/10 backdrop-blur-sm border border-white/10 flex items-center justify-center text-gray-300 hover:text-white hover:bg-primary/15 hover:border-primary/40 transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.35)]">
      <i class="fa fa-twitter text-base"></i>
    </a>
    <a href="#" target="_blank" rel="noopener" aria-label="Telegram" class="group w-9 h-9 rounded-full bg-white/10 backdrop-blur-sm border border-white/10 flex items-center justify-center text-gray-300 hover:text-white hover:bg-primary/15 hover:border-primary/40 transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.35)]">
      <i class="fa fa-telegram text-base"></i>
    </a>
    <a href="#" target="_blank" rel="noopener" aria-label="Discord" class="group w-9 h-9 rounded-full bg-white/10 backdrop-blur-sm border border-white/10 flex items-center justify-center text-gray-300 hover:text-white hover:bg-primary/15 hover:border-primary/40 transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.35)]">
      <i class="fa fa-gamepad text-base"></i>
    </a>
  </div>

  <!-- Web3 provider libraries (Web3Modal v1 classic) -->
  <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="https://unpkg.com/web3modal@1.9.12/dist/index.js"></script>
  <script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@coinbase/wallet-sdk@3.9.3/dist/CoinbaseWalletSDK.umd.min.js"></script>

  <script src="assets/js/stars.js"></script>
  <script src="assets/js/swap.js"></script>
  <script src="assets/js/wallet.js"></script>
  <script src="assets/js/chains.js"></script>
  <script src="assets/js/main.js"></script>
  <script>
    // 在靠近底部区域激活波形增强动效
    (function(){
      var thresholdPx = 180; // 底部 180px 范围内触发
      function updateWaveActive(e){
        try {
          var y = (e && e.clientY) || 9999;
          var h = window.innerHeight || document.documentElement.clientHeight;
          if (h - y <= thresholdPx) document.body.classList.add('wave-active');
          else document.body.classList.remove('wave-active');
        } catch(_){}
      }
      window.addEventListener('mousemove', updateWaveActive);
      window.addEventListener('touchmove', function(ev){ if (ev.touches && ev.touches[0]) updateWaveActive(ev.touches[0]); }, { passive: true });
      window.addEventListener('mouseleave', function(){ document.body.classList.remove('wave-active'); });
    })();
  </script>
</body>
</html>
